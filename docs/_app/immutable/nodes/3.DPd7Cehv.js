import{s as he,o as ne,p as me,q as ye,u as Ie,v as Ue,w as Le,x as Ne,a as C,e as E,y as Re,f as $,g as y,c as S,b as re,z as W,A as I,i as h,h as D,B as Fe,C as xe,D as Ee,E as Se,t as B,d as M,n as Z,F as _e,j as je}from"../chunks/scheduler.C58PcPdY.js";import{S as we,i as ke,c as _,a as d,m as g,t as i,b as u,d as b,e as Te,f as le,g as oe}from"../chunks/index.DpRIAjlJ.js";import{I as Ae,g as Be,a as Me,b as Oe,B as G,t as V}from"../chunks/Toaster.svelte_svelte_type_style_lang.BaNXutMH.js";import{S as He,L as de,R as ve,I as Ve,P as qe,T as Pe,a as De,D as ze,b as We}from"../chunks/loader-circle.uZn-zZfA.js";function Xe(o){let e;const s=o[2].default,t=ye(s,o,o[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Ie(t,s,r,r[3],e?Le(s,r[3],n,null):Ue(r[3]),null)},i(r){e||(i(t,r),e=!0)},o(r){u(t,r),e=!1},d(r){t&&t.d(r)}}}function Ye(o){let e,s;const t=[{name:"info"},o[1],{iconNode:o[0]}];let r={$$slots:{default:[Xe]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)r=ne(r,t[n]);return e=new Ae({props:r}),{c(){_(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,l){g(e,n,l),s=!0},p(n,[l]){const a=l&3?Be(t,[t[0],l&2&&Me(n[1]),l&1&&{iconNode:n[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:n}),e.$set(a)},i(n){s||(i(e.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),s=!1},d(n){b(e,n)}}}function Ze(o,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];return o.$$set=l=>{s(1,e=ne(ne({},e),me(l))),"$$scope"in l&&s(3,r=l.$$scope)},e=me(e),[n,e,t,r]}class Ge extends we{constructor(e){super(),ke(this,e,Ze,Ye,he,{})}}const{document:ge}=Oe;function Je(o){let e;return{c(){e=B("Input file")},l(s){e=M(s,"Input file")},m(s,t){h(s,e,t)},d(s){s&&$(e)}}}function Ke(o){let e;return{c(){e=B("User password (Optional)")},l(s){e=M(s,"User password (Optional)")},m(s,t){h(s,e,t)},d(s){s&&$(e)}}}function Qe(o){let e,s,t,r="User password info",n;return e=new Ge({props:{class:"w-4 h-4"}}),{c(){_(e.$$.fragment),s=C(),t=E("span"),t.textContent=r,this.h()},l(l){d(e.$$.fragment,l),s=y(l),t=S(l,"SPAN",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-88ldu3"&&(t.textContent=r),this.h()},h(){I(t,"class","sr-only")},m(l,a){g(e,l,a),h(l,s,a),h(l,t,a),n=!0},p:Z,i(l){n||(i(e.$$.fragment,l),n=!0)},o(l){u(e.$$.fragment,l),n=!1},d(l){l&&($(s),$(t)),b(e,l)}}}function et(o){let e,s=`User password is the password that can be use to view the file with some restrictions such
					as printing or copying. The password may be empty.`;return{c(){e=E("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),W(e)!=="svelte-16ubxc"&&(e.textContent=s)},m(t,r){h(t,e,r)},p:Z,d(t){t&&$(e)}}}function tt(o){let e,s,t,r;return e=new Pe({props:{class:"cursor-default ml-2",$$slots:{default:[Qe]},$$scope:{ctx:o}}}),t=new De({props:{$$slots:{default:[et]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment),s=C(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),s=y(n),d(t.$$.fragment,n)},m(n,l){g(e,n,l),h(n,s,l),g(t,n,l),r=!0},p(n,l){const a={};l&1024&&(a.$$scope={dirty:l,ctx:n}),e.$set(a);const f={};l&1024&&(f.$$scope={dirty:l,ctx:n}),t.$set(f)},i(n){r||(i(e.$$.fragment,n),i(t.$$.fragment,n),r=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),r=!1},d(n){n&&$(s),b(e,n),b(t,n)}}}function st(o){let e,s;return e=new G({props:{disabled:!0,$$slots:{default:[rt]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,r){g(e,t,r),s=!0},p(t,r){const n={};r&1032&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){b(e,t)}}}function nt(o){let e,s,t,r;const n=[ot,lt],l=[];function a(f,w){var U;return(U=f[0])!=null&&U.length?1:0}return e=a(o),s=l[e]=n[e](o),{c(){s.c(),t=_e()},l(f){s.l(f),t=_e()},m(f,w){l[e].m(f,w),h(f,t,w),r=!0},p(f,w){let U=e;e=a(f),e===U?l[e].p(f,w):(oe(),u(l[U],1,1,()=>{l[U]=null}),le(),s=l[e],s?s.p(f,w):(s=l[e]=n[e](f),s.c()),i(s,1),s.m(t.parentNode,t))},i(f){r||(i(s),r=!0)},o(f){u(s),r=!1},d(f){f&&$(t),l[e].d(f)}}}function rt(o){let e,s,t=o[3].toFixed(0)+"",r,n,l;return e=new We({props:{class:"mr-2 h-4 w-4 animate-spin"}}),{c(){_(e.$$.fragment),s=B(`
			Processing: `),r=B(t),n=B("%")},l(a){d(e.$$.fragment,a),s=M(a,`
			Processing: `),r=M(a,t),n=M(a,"%")},m(a,f){g(e,a,f),h(a,s,f),h(a,r,f),h(a,n,f),l=!0},p(a,f){(!l||f&8)&&t!==(t=a[3].toFixed(0)+"")&&je(r,t)},i(a){l||(i(e.$$.fragment,a),l=!0)},o(a){u(e.$$.fragment,a),l=!1},d(a){a&&($(s),$(r),$(n)),b(e,a)}}}function lt(o){let e,s;return e=new G({props:{$$slots:{default:[at]},$$scope:{ctx:o}}}),e.$on("click",o[5]),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,r){g(e,t,r),s=!0},p(t,r){const n={};r&1024&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){b(e,t)}}}function ot(o){let e,s;return e=new ve({props:{$$slots:{default:[ut]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,r){g(e,t,r),s=!0},p(t,r){const n={};r&1024&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){b(e,t)}}}function at(o){let e;return{c(){e=B("Decrypt")},l(s){e=M(s,"Decrypt")},m(s,t){h(s,e,t)},d(s){s&&$(e)}}}function ft(o){let e;return{c(){e=B("Decrypt")},l(s){e=M(s,"Decrypt")},m(s,t){h(s,e,t)},d(s){s&&$(e)}}}function ct(o){let e,s;return e=new G({props:{class:"w-full",disabled:!0,$$slots:{default:[ft]},$$scope:{ctx:o}}}),e.$on("click",o[5]),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,r){g(e,t,r),s=!0},p(t,r){const n={};r&1024&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){b(e,t)}}}function it(o){let e,s="Select a file to continue";return{c(){e=E("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),W(e)!=="svelte-p3ybh1"&&(e.textContent=s)},m(t,r){h(t,e,r)},p:Z,d(t){t&&$(e)}}}function ut(o){let e,s,t,r;return e=new Pe({props:{class:"cursor-default",$$slots:{default:[ct]},$$scope:{ctx:o}}}),t=new De({props:{$$slots:{default:[it]},$$scope:{ctx:o}}}),{c(){_(e.$$.fragment),s=C(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),s=y(n),d(t.$$.fragment,n)},m(n,l){g(e,n,l),h(n,s,l),g(t,n,l),r=!0},p(n,l){const a={};l&1024&&(a.$$scope={dirty:l,ctx:n}),e.$set(a);const f={};l&1024&&(f.$$scope={dirty:l,ctx:n}),t.$set(f)},i(n){r||(i(e.$$.fragment,n),i(t.$$.fragment,n),r=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),r=!1},d(n){n&&$(s),b(e,n),b(t,n)}}}function be(o){let e,s,t;return s=new G({props:{variant:"secondary",class:"w-full",$$slots:{default:[pt]},$$scope:{ctx:o}}}),{c(){e=E("a"),_(s.$$.fragment),this.h()},l(r){e=S(r,"A",{href:!0,class:!0,download:!0});var n=re(e);d(s.$$.fragment,n),n.forEach($),this.h()},h(){I(e,"href",o[2]),I(e,"class","w-full h-fit"),I(e,"download","output.pdf")},m(r,n){h(r,e,n),g(s,e,null),t=!0},p(r,n){const l={};n&1024&&(l.$$scope={dirty:n,ctx:r}),s.$set(l),(!t||n&4)&&I(e,"href",r[2])},i(r){t||(i(s.$$.fragment,r),t=!0)},o(r){u(s.$$.fragment,r),t=!1},d(r){r&&$(e),b(s)}}}function pt(o){let e,s,t;return e=new ze({props:{class:"mr-2 h-4 w-4"}}),{c(){_(e.$$.fragment),s=B("Download")},l(r){d(e.$$.fragment,r),s=M(r,"Download")},m(r,n){g(e,r,n),h(r,s,n),t=!0},p:Z,i(r){t||(i(e.$$.fragment,r),t=!0)},o(r){u(e.$$.fragment,r),t=!1},d(r){r&&$(s),b(e,r)}}}function $t(o){let e,s,t,r="Decrypt PDF",n,l,a,f,w="Decrypt PDF and remove all restrictions",U,R,q,v,z,P,F,O,j,J,x,K,Q,T,ee,L,N,X,Y,te,ae;l=new He({}),R=new de({props:{for:"input-file",$$slots:{default:[Je]},$$scope:{ctx:o}}}),F=new de({props:{for:"password",$$slots:{default:[Ke]},$$scope:{ctx:o}}}),j=new ve({props:{$$slots:{default:[tt]},$$scope:{ctx:o}}});function Ce(c){o[7](c)}let fe={id:"password",type:"text",placeholder:"User password"};o[1]!==void 0&&(fe.value=o[1]),x=new Ve({props:fe}),Ne.push(()=>Te(x,"value",Ce)),T=new qe({props:{class:"mt-1 mb-0.5",title:"Progress",value:o[3]}});const ce=[nt,st],A=[];function ie(c,k){return c[4]?1:0}L=ie(o),N=A[L]=ce[L](o);let m=o[2]&&be(o);return{c(){e=C(),s=E("div"),t=E("h1"),t.textContent=r,n=C(),_(l.$$.fragment),a=C(),f=E("h2"),f.textContent=w,U=C(),_(R.$$.fragment),q=C(),v=E("input"),z=C(),P=E("div"),_(F.$$.fragment),O=C(),_(j.$$.fragment),J=C(),_(x.$$.fragment),Q=C(),_(T.$$.fragment),ee=C(),N.c(),X=C(),m&&m.c(),this.h()},l(c){Re("svelte-1geayfl",ge.head).forEach($),e=y(c),s=S(c,"DIV",{class:!0});var p=re(s);t=S(p,"H1",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-6vk7kn"&&(t.textContent=r),n=y(p),d(l.$$.fragment,p),a=y(p),f=S(p,"H2",{class:!0,"data-svelte-h":!0}),W(f)!=="svelte-m350mi"&&(f.textContent=w),U=y(p),d(R.$$.fragment,p),q=y(p),v=S(p,"INPUT",{id:!0,class:!0,type:!0,accept:!0}),z=y(p),P=S(p,"DIV",{class:!0});var H=re(P);d(F.$$.fragment,H),O=y(H),d(j.$$.fragment,H),H.forEach($),J=y(p),d(x.$$.fragment,p),Q=y(p),d(T.$$.fragment,p),ee=y(p),N.l(p),X=y(p),m&&m.l(p),p.forEach($),this.h()},h(){ge.title="Decrypt PDF",I(t,"class","text-xl font-semibold"),I(f,"class","mb-1"),I(v,"id","input-file"),I(v,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),I(v,"type","file"),I(v,"accept","application/pdf"),I(P,"class","flex mt-1"),I(s,"class","grid w-[22rem] h-fit items-center gap-1.5 mt-4 mx-auto px-4")},m(c,k){h(c,e,k),h(c,s,k),D(s,t),D(s,n),g(l,s,null),D(s,a),D(s,f),D(s,U),g(R,s,null),D(s,q),D(s,v),D(s,z),D(s,P),g(F,P,null),D(P,O),g(j,P,null),D(s,J),g(x,s,null),D(s,Q),g(T,s,null),D(s,ee),A[L].m(s,null),D(s,X),m&&m.m(s,null),Y=!0,te||(ae=Fe(v,"change",o[6]),te=!0)},p(c,[k]){const p={};k&1024&&(p.$$scope={dirty:k,ctx:c}),R.$set(p);const H={};k&1024&&(H.$$scope={dirty:k,ctx:c}),F.$set(H);const ue={};k&1024&&(ue.$$scope={dirty:k,ctx:c}),j.$set(ue);const pe={};!K&&k&2&&(K=!0,pe.value=c[1],xe(()=>K=!1)),x.$set(pe);const $e={};k&8&&($e.value=c[3]),T.$set($e);let se=L;L=ie(c),L===se?A[L].p(c,k):(oe(),u(A[se],1,1,()=>{A[se]=null}),le(),N=A[L],N?N.p(c,k):(N=A[L]=ce[L](c),N.c()),i(N,1),N.m(s,X)),c[2]?m?(m.p(c,k),k&4&&i(m,1)):(m=be(c),m.c(),i(m,1),m.m(s,null)):m&&(oe(),u(m,1,1,()=>{m=null}),le())},i(c){Y||(i(l.$$.fragment,c),i(R.$$.fragment,c),i(F.$$.fragment,c),i(j.$$.fragment,c),i(x.$$.fragment,c),i(T.$$.fragment,c),i(N),i(m),Y=!0)},o(c){u(l.$$.fragment,c),u(R.$$.fragment,c),u(F.$$.fragment,c),u(j.$$.fragment,c),u(x.$$.fragment,c),u(T.$$.fragment,c),u(N),u(m),Y=!1},d(c){c&&($(e),$(s)),b(l),b(R),b(F),b(j),b(x),b(T),A[L].d(),m&&m.d(),te=!1,ae()}}}function mt(o,e,s){let t="",r=0;function n(){URL.revokeObjectURL(t),s(2,t=""),s(3,r=0)}let l=!1,a,f,w;Ee(()=>{w=new Worker(new URL(""+new URL("../workers/pdfcpu.worker-IVZHBXAI.js",import.meta.url).href,import.meta.url),{type:"module"}),w.onmessage=v=>{const{type:z,data:P}=v.data;switch(z){case"progress":s(3,r=P);break;case"warning":V.warning(P.message,{description:P.description});break;case"error":V.error(P.message,{description:P.description}),s(4,l=!1),n();break;case"success":const F=P;s(2,t=URL.createObjectURL(F)),V.success("Processing completed!",{description:"Your file should begin downloading automatically. If not, click the download button"});const O=document.createElement("a");O.href=t,O.download="output.pdf",O.click(),s(4,l=!1);break}}}),Se(()=>{w==null||w.terminate()});async function U(){if(n(),s(4,l=!0),!(a!=null&&a.length)){V.error("No file selected",{description:"Please select a file"}),s(4,l=!1);return}const v=a[0];if(!v){V.error("No file selected",{description:"Please select a file"}),s(4,l=!1);return}if(v.type!=="application/pdf"){V.error("Invalid file type",{description:"Please select a PDF file"}),s(4,l=!1);return}if(!w){V.error("Worker not initialized",{description:"Please try again in a few seconds"}),s(4,l=!1);return}w.postMessage({type:"decrypt",file:v,password:f})}function R(){a=this.files,s(0,a)}function q(v){f=v,s(1,f)}return o.$$.update=()=>{o.$$.dirty&3&&n()},[a,f,t,r,l,U,R,q]}class ht extends we{constructor(e){super(),ke(this,e,mt,$t,he,{})}}export{ht as component};
