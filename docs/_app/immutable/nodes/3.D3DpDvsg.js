import{s as de,o as te,p as pe,q as Pe,u as Ce,v as Ie,w as Ue,x as ye,e as B,a as U,c as E,b as ne,y as z,g as y,f as b,z as L,i as v,h as D,A as Le,B as Ne,C as Re,t as O,d as x,n as Y,D as me,j as je}from"../chunks/scheduler.BmR9v2tq.js";import{S as be,i as he,c as m,a as _,m as g,t as i,b as $,d,e as Fe,f as se,g as re}from"../chunks/index.BVAkrvBk.js";import{I as Se,g as Te,a as Be,t as M,B as G}from"../chunks/Toaster.svelte_svelte_type_style_lang.u1YzuGz-.js";import{S as Ee,L as _e,R as we,I as Oe,P as xe,T as ke,a as ve,D as He,b as Me}from"../chunks/loader-circle.DJ-X-UUd.js";function We(l){return new Worker(""+new URL("../workers/pdfcpu.worker-DaHBnv0e.js",import.meta.url).href,{name:l==null?void 0:l.name})}function qe(l){let e;const n=l[2].default,t=Pe(n,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&Ce(t,n,r,r[3],e?Ue(n,r[3],s,null):Ie(r[3]),null)},i(r){e||(i(t,r),e=!0)},o(r){$(t,r),e=!1},d(r){t&&t.d(r)}}}function Ae(l){let e,n;const t=[{name:"info"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[qe]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)r=te(r,t[s]);return e=new Se({props:r}),{c(){m(e.$$.fragment)},l(s){_(e.$$.fragment,s)},m(s,o){g(e,s,o),n=!0},p(s,[o]){const a=o&3?Te(t,[t[0],o&2&&Be(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){n||(i(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){d(e,s)}}}function Ve(l,e,n){let{$$slots:t={},$$scope:r}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];return l.$$set=o=>{n(1,e=te(te({},e),pe(o))),"$$scope"in o&&n(3,r=o.$$scope)},e=pe(e),[s,e,t,r]}class ze extends be{constructor(e){super(),he(this,e,Ve,Ae,de,{})}}function Ye(l){let e;return{c(){e=O("Input file")},l(n){e=x(n,"Input file")},m(n,t){v(n,e,t)},d(n){n&&b(e)}}}function Ge(l){let e;return{c(){e=O("User password (Optional)")},l(n){e=x(n,"User password (Optional)")},m(n,t){v(n,e,t)},d(n){n&&b(e)}}}function Je(l){let e,n;return e=new ze({props:{class:"w-4 h-4"}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){g(e,t,r),n=!0},p:Y,i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Ke(l){let e,n=`User password is the password that can be use to view the file with some restrictions such
					as printing or copying. The password may be empty.`;return{c(){e=B("p"),e.textContent=n},l(t){e=E(t,"P",{"data-svelte-h":!0}),z(e)!=="svelte-16ubxc"&&(e.textContent=n)},m(t,r){v(t,e,r)},p:Y,d(t){t&&b(e)}}}function Qe(l){let e,n,t,r;return e=new ke({props:{class:"cursor-default ml-2",$$slots:{default:[Je]},$$scope:{ctx:l}}}),t=new ve({props:{$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment),n=U(),m(t.$$.fragment)},l(s){_(e.$$.fragment,s),n=y(s),_(t.$$.fragment,s)},m(s,o){g(e,s,o),v(s,n,o),g(t,s,o),r=!0},p(s,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&1024&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(i(e.$$.fragment,s),i(t.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),r=!1},d(s){s&&b(n),d(e,s),d(t,s)}}}function Xe(l){let e,n;return e=new G({props:{disabled:!0,$$slots:{default:[et]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){g(e,t,r),n=!0},p(t,r){const s={};r&1032&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function Ze(l){let e,n,t,r;const s=[nt,tt],o=[];function a(f,w){var h;return(h=f[0])!=null&&h.length?1:0}return e=a(l),n=o[e]=s[e](l),{c(){n.c(),t=me()},l(f){n.l(f),t=me()},m(f,w){o[e].m(f,w),v(f,t,w),r=!0},p(f,w){let h=e;e=a(f),e===h?o[e].p(f,w):(re(),$(o[h],1,1,()=>{o[h]=null}),se(),n=o[e],n?n.p(f,w):(n=o[e]=s[e](f),n.c()),i(n,1),n.m(t.parentNode,t))},i(f){r||(i(n),r=!0)},o(f){$(n),r=!1},d(f){f&&b(t),o[e].d(f)}}}function et(l){let e,n,t=l[3].toFixed(0)+"",r,s,o;return e=new Me({props:{class:"mr-2 h-4 w-4 animate-spin"}}),{c(){m(e.$$.fragment),n=O(`
			Processing: `),r=O(t),s=O("%")},l(a){_(e.$$.fragment,a),n=x(a,`
			Processing: `),r=x(a,t),s=x(a,"%")},m(a,f){g(e,a,f),v(a,n,f),v(a,r,f),v(a,s,f),o=!0},p(a,f){(!o||f&8)&&t!==(t=a[3].toFixed(0)+"")&&je(r,t)},i(a){o||(i(e.$$.fragment,a),o=!0)},o(a){$(e.$$.fragment,a),o=!1},d(a){a&&(b(n),b(r),b(s)),d(e,a)}}}function tt(l){let e,n;return e=new G({props:{$$slots:{default:[st]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){g(e,t,r),n=!0},p(t,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function nt(l){let e,n;return e=new we({props:{$$slots:{default:[at]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){g(e,t,r),n=!0},p(t,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function st(l){let e;return{c(){e=O("Decrypt")},l(n){e=x(n,"Decrypt")},m(n,t){v(n,e,t)},d(n){n&&b(e)}}}function rt(l){let e;return{c(){e=O("Decrypt")},l(n){e=x(n,"Decrypt")},m(n,t){v(n,e,t)},d(n){n&&b(e)}}}function lt(l){let e,n;return e=new G({props:{class:"w-full",disabled:!0,$$slots:{default:[rt]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){g(e,t,r),n=!0},p(t,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function ot(l){let e,n="Select a file to continue";return{c(){e=B("p"),e.textContent=n},l(t){e=E(t,"P",{"data-svelte-h":!0}),z(e)!=="svelte-p3ybh1"&&(e.textContent=n)},m(t,r){v(t,e,r)},p:Y,d(t){t&&b(e)}}}function at(l){let e,n,t,r;return e=new ke({props:{class:"cursor-default",$$slots:{default:[lt]},$$scope:{ctx:l}}}),t=new ve({props:{$$slots:{default:[ot]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment),n=U(),m(t.$$.fragment)},l(s){_(e.$$.fragment,s),n=y(s),_(t.$$.fragment,s)},m(s,o){g(e,s,o),v(s,n,o),g(t,s,o),r=!0},p(s,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&1024&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(i(e.$$.fragment,s),i(t.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),r=!1},d(s){s&&b(n),d(e,s),d(t,s)}}}function ge(l){let e,n,t;return n=new G({props:{variant:"secondary",class:"w-full",$$slots:{default:[ft]},$$scope:{ctx:l}}}),{c(){e=B("a"),m(n.$$.fragment),this.h()},l(r){e=E(r,"A",{href:!0,class:!0,download:!0});var s=ne(e);_(n.$$.fragment,s),s.forEach(b),this.h()},h(){L(e,"href",l[2]),L(e,"class","w-full h-fit"),L(e,"download","output.pdf")},m(r,s){v(r,e,s),g(n,e,null),t=!0},p(r,s){const o={};s&1024&&(o.$$scope={dirty:s,ctx:r}),n.$set(o),(!t||s&4)&&L(e,"href",r[2])},i(r){t||(i(n.$$.fragment,r),t=!0)},o(r){$(n.$$.fragment,r),t=!1},d(r){r&&b(e),d(n)}}}function ft(l){let e,n,t;return e=new He({props:{class:"mr-2 h-4 w-4"}}),{c(){m(e.$$.fragment),n=O("Download")},l(r){_(e.$$.fragment,r),n=x(r,"Download")},m(r,s){g(e,r,s),v(r,n,s),t=!0},p:Y,i(r){t||(i(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){r&&b(n),d(e,r)}}}function ct(l){let e,n,t="Decrypt PDF",r,s,o,a,f="Decrypt PDF and remove all restrictions",w,h,W,R,N,j,k,q,P,J,F,K,Q,S,X,C,I,A,V,Z,le;s=new Ee({}),h=new _e({props:{for:"input-file",$$slots:{default:[Ye]},$$scope:{ctx:l}}}),k=new _e({props:{for:"password",$$slots:{default:[Ge]},$$scope:{ctx:l}}}),P=new we({props:{$$slots:{default:[Qe]},$$scope:{ctx:l}}});function De(c){l[7](c)}let oe={id:"password",type:"text",placeholder:"User password"};l[1]!==void 0&&(oe.value=l[1]),F=new Oe({props:oe}),ye.push(()=>Fe(F,"value",De)),S=new xe({props:{class:"mt-1 mb-0.5",value:l[3]}});const ae=[Ze,Xe],T=[];function fe(c,u){return c[4]?1:0}C=fe(l),I=T[C]=ae[C](l);let p=l[2]&&ge(l);return{c(){e=B("div"),n=B("h1"),n.textContent=t,r=U(),m(s.$$.fragment),o=U(),a=B("h2"),a.textContent=f,w=U(),m(h.$$.fragment),W=U(),R=B("input"),N=U(),j=B("div"),m(k.$$.fragment),q=U(),m(P.$$.fragment),J=U(),m(F.$$.fragment),Q=U(),m(S.$$.fragment),X=U(),I.c(),A=U(),p&&p.c(),this.h()},l(c){e=E(c,"DIV",{class:!0});var u=ne(e);n=E(u,"H1",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-6vk7kn"&&(n.textContent=t),r=y(u),_(s.$$.fragment,u),o=y(u),a=E(u,"H2",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-m350mi"&&(a.textContent=f),w=y(u),_(h.$$.fragment,u),W=y(u),R=E(u,"INPUT",{id:!0,class:!0,type:!0,accept:!0}),N=y(u),j=E(u,"DIV",{class:!0});var H=ne(j);_(k.$$.fragment,H),q=y(H),_(P.$$.fragment,H),H.forEach(b),J=y(u),_(F.$$.fragment,u),Q=y(u),_(S.$$.fragment,u),X=y(u),I.l(u),A=y(u),p&&p.l(u),u.forEach(b),this.h()},h(){L(n,"class","text-xl font-semibold"),L(a,"class","mb-1"),L(R,"id","input-file"),L(R,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),L(R,"type","file"),L(R,"accept","application/pdf"),L(j,"class","flex mt-1"),L(e,"class","grid w-[22rem] h-fit items-center gap-1.5 mt-4 mx-auto px-4")},m(c,u){v(c,e,u),D(e,n),D(e,r),g(s,e,null),D(e,o),D(e,a),D(e,w),g(h,e,null),D(e,W),D(e,R),D(e,N),D(e,j),g(k,j,null),D(j,q),g(P,j,null),D(e,J),g(F,e,null),D(e,Q),g(S,e,null),D(e,X),T[C].m(e,null),D(e,A),p&&p.m(e,null),V=!0,Z||(le=Le(R,"change",l[6]),Z=!0)},p(c,[u]){const H={};u&1024&&(H.$$scope={dirty:u,ctx:c}),h.$set(H);const ce={};u&1024&&(ce.$$scope={dirty:u,ctx:c}),k.$set(ce);const ue={};u&1024&&(ue.$$scope={dirty:u,ctx:c}),P.$set(ue);const ie={};!K&&u&2&&(K=!0,ie.value=c[1],Ne(()=>K=!1)),F.$set(ie);const $e={};u&8&&($e.value=c[3]),S.$set($e);let ee=C;C=fe(c),C===ee?T[C].p(c,u):(re(),$(T[ee],1,1,()=>{T[ee]=null}),se(),I=T[C],I?I.p(c,u):(I=T[C]=ae[C](c),I.c()),i(I,1),I.m(e,A)),c[2]?p?(p.p(c,u),u&4&&i(p,1)):(p=ge(c),p.c(),i(p,1),p.m(e,null)):p&&(re(),$(p,1,1,()=>{p=null}),se())},i(c){V||(i(s.$$.fragment,c),i(h.$$.fragment,c),i(k.$$.fragment,c),i(P.$$.fragment,c),i(F.$$.fragment,c),i(S.$$.fragment,c),i(I),i(p),V=!0)},o(c){$(s.$$.fragment,c),$(h.$$.fragment,c),$(k.$$.fragment,c),$(P.$$.fragment,c),$(F.$$.fragment,c),$(S.$$.fragment,c),$(I),$(p),V=!1},d(c){c&&b(e),d(s),d(h),d(k),d(P),d(F),d(S),T[C].d(),p&&p.d(),Z=!1,le()}}}function ut(l,e,n){let t="",r=0;function s(){URL.revokeObjectURL(t),n(2,t=""),n(3,r=0)}let o=!1,a,f;const w=new We;w.onmessage=N=>{const{type:j,data:k}=N.data;switch(j){case"progress":n(3,r=k);break;case"warning":M.warning(k.message,{description:k.description});break;case"error":M.error(k.message,{description:k.description}),n(4,o=!1),s();break;case"success":const q=k;n(2,t=URL.createObjectURL(q)),M.success("Processing completed!",{description:"Your file should begin downloading automatically. If not, click the download button"});const P=document.createElement("a");P.href=t,P.download="output.pdf",P.click(),n(4,o=!1);break}},Re(()=>{w==null||w.terminate()});async function h(){if(s(),n(4,o=!0),!(a!=null&&a.length)){M.error("No file selected",{description:"Please select a file"}),n(4,o=!1);return}const N=a[0];if(!N){M.error("No file selected",{description:"Please select a file"}),n(4,o=!1);return}if(N.type!=="application/pdf"){M.error("Invalid file type",{description:"Please select a PDF file"}),n(4,o=!1);return}w.postMessage({type:"decrypt",file:N,password:f})}function W(){a=this.files,n(0,a)}function R(N){f=N,n(1,f)}return l.$$.update=()=>{l.$$.dirty&3&&s()},[a,f,t,r,o,h,W,R]}class _t extends be{constructor(e){super(),he(this,e,ut,ct,de,{})}}export{_t as component};
