import{s as we,o as le,p as de,q as Ie,u as Ue,v as Le,w as Ne,x as Re,e as S,a as D,y as Fe,c as j,f as $,g as C,b as oe,z as W,A as v,h as P,i as k,B as xe,C as Ee,D as Se,E as je,t as A,d as H,n as G,F as ge,j as Te}from"../chunks/scheduler.C58PcPdY.js";import{S as ke,i as ve,c as g,a as b,m as h,t as i,b as u,d as w,e as Be,f as ae,g as fe}from"../chunks/index.DpRIAjlJ.js";import{I as Me,g as Oe,a as Ae,b as He,B as J,t as z}from"../chunks/Toaster.svelte_svelte_type_style_lang.BaNXutMH.js";import{S as qe,L as be,R as Pe,I as ze,P as Ve,T as De,a as Ce,D as We,b as Ke}from"../chunks/loader-circle.uZn-zZfA.js";function Ye(o){let e;const s=o[2].default,t=Ie(s,o,o[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&8)&&Ue(t,s,r,r[3],e?Ne(s,r[3],n,null):Le(r[3]),null)},i(r){e||(i(t,r),e=!0)},o(r){u(t,r),e=!1},d(r){t&&t.d(r)}}}function Ge(o){let e,s;const t=[{name:"info"},o[1],{iconNode:o[0]}];let r={$$slots:{default:[Ye]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)r=le(r,t[n]);return e=new Me({props:r}),{c(){g(e.$$.fragment)},l(n){b(e.$$.fragment,n)},m(n,l){h(e,n,l),s=!0},p(n,[l]){const a=l&3?Oe(t,[t[0],l&2&&Ae(n[1]),l&1&&{iconNode:n[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:n}),e.$set(a)},i(n){s||(i(e.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),s=!1},d(n){w(e,n)}}}function Je(o,e,s){let{$$slots:t={},$$scope:r}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];return o.$$set=l=>{s(1,e=le(le({},e),de(l))),"$$scope"in l&&s(3,r=l.$$scope)},e=de(e),[n,e,t,r]}class Qe extends ke{constructor(e){super(),ve(this,e,Je,Ge,we,{})}}const{document:re}=He;function Xe(o){let e;return{c(){e=A("Input file")},l(s){e=H(s,"Input file")},m(s,t){k(s,e,t)},d(s){s&&$(e)}}}function Ze(o){let e;return{c(){e=A("User password (Optional)")},l(s){e=H(s,"User password (Optional)")},m(s,t){k(s,e,t)},d(s){s&&$(e)}}}function et(o){let e,s,t,r="User password info",n;return e=new Qe({props:{class:"w-4 h-4"}}),{c(){g(e.$$.fragment),s=D(),t=S("span"),t.textContent=r,this.h()},l(l){b(e.$$.fragment,l),s=C(l),t=j(l,"SPAN",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-88ldu3"&&(t.textContent=r),this.h()},h(){v(t,"class","sr-only")},m(l,a){h(e,l,a),k(l,s,a),k(l,t,a),n=!0},p:G,i(l){n||(i(e.$$.fragment,l),n=!0)},o(l){u(e.$$.fragment,l),n=!1},d(l){l&&($(s),$(t)),w(e,l)}}}function tt(o){let e,s=`User password is the password that can be use to view the file with some restrictions such
					as printing or copying. The password may be empty.`;return{c(){e=S("p"),e.textContent=s},l(t){e=j(t,"P",{"data-svelte-h":!0}),W(e)!=="svelte-16ubxc"&&(e.textContent=s)},m(t,r){k(t,e,r)},p:G,d(t){t&&$(e)}}}function st(o){let e,s,t,r;return e=new De({props:{class:"cursor-default ml-2",$$slots:{default:[et]},$$scope:{ctx:o}}}),t=new Ce({props:{$$slots:{default:[tt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),s=D(),g(t.$$.fragment)},l(n){b(e.$$.fragment,n),s=C(n),b(t.$$.fragment,n)},m(n,l){h(e,n,l),k(n,s,l),h(t,n,l),r=!0},p(n,l){const a={};l&1024&&(a.$$scope={dirty:l,ctx:n}),e.$set(a);const f={};l&1024&&(f.$$scope={dirty:l,ctx:n}),t.$set(f)},i(n){r||(i(e.$$.fragment,n),i(t.$$.fragment,n),r=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),r=!1},d(n){n&&$(s),w(e,n),w(t,n)}}}function nt(o){let e,s;return e=new J({props:{disabled:!0,$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){h(e,t,r),s=!0},p(t,r){const n={};r&1032&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){w(e,t)}}}function rt(o){let e,s,t,r;const n=[at,ot],l=[];function a(f,m){var L;return(L=f[0])!=null&&L.length?1:0}return e=a(o),s=l[e]=n[e](o),{c(){s.c(),t=ge()},l(f){s.l(f),t=ge()},m(f,m){l[e].m(f,m),k(f,t,m),r=!0},p(f,m){let L=e;e=a(f),e===L?l[e].p(f,m):(fe(),u(l[L],1,1,()=>{l[L]=null}),ae(),s=l[e],s?s.p(f,m):(s=l[e]=n[e](f),s.c()),i(s,1),s.m(t.parentNode,t))},i(f){r||(i(s),r=!0)},o(f){u(s),r=!1},d(f){f&&$(t),l[e].d(f)}}}function lt(o){let e,s,t=o[3].toFixed(0)+"",r,n,l;return e=new Ke({props:{class:"mr-2 h-4 w-4 animate-spin"}}),{c(){g(e.$$.fragment),s=A(`
			Processing: `),r=A(t),n=A("%")},l(a){b(e.$$.fragment,a),s=H(a,`
			Processing: `),r=H(a,t),n=H(a,"%")},m(a,f){h(e,a,f),k(a,s,f),k(a,r,f),k(a,n,f),l=!0},p(a,f){(!l||f&8)&&t!==(t=a[3].toFixed(0)+"")&&Te(r,t)},i(a){l||(i(e.$$.fragment,a),l=!0)},o(a){u(e.$$.fragment,a),l=!1},d(a){a&&($(s),$(r),$(n)),w(e,a)}}}function ot(o){let e,s;return e=new J({props:{$$slots:{default:[ft]},$$scope:{ctx:o}}}),e.$on("click",o[5]),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){h(e,t,r),s=!0},p(t,r){const n={};r&1024&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){w(e,t)}}}function at(o){let e,s;return e=new Pe({props:{$$slots:{default:[pt]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){h(e,t,r),s=!0},p(t,r){const n={};r&1024&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){w(e,t)}}}function ft(o){let e;return{c(){e=A("Decrypt")},l(s){e=H(s,"Decrypt")},m(s,t){k(s,e,t)},d(s){s&&$(e)}}}function ct(o){let e;return{c(){e=A("Decrypt")},l(s){e=H(s,"Decrypt")},m(s,t){k(s,e,t)},d(s){s&&$(e)}}}function it(o){let e,s;return e=new J({props:{class:"w-full",disabled:!0,$$slots:{default:[ct]},$$scope:{ctx:o}}}),e.$on("click",o[5]),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){h(e,t,r),s=!0},p(t,r){const n={};r&1024&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(i(e.$$.fragment,t),s=!0)},o(t){u(e.$$.fragment,t),s=!1},d(t){w(e,t)}}}function ut(o){let e,s="Select a file to continue";return{c(){e=S("p"),e.textContent=s},l(t){e=j(t,"P",{"data-svelte-h":!0}),W(e)!=="svelte-p3ybh1"&&(e.textContent=s)},m(t,r){k(t,e,r)},p:G,d(t){t&&$(e)}}}function pt(o){let e,s,t,r;return e=new De({props:{class:"cursor-default",$$slots:{default:[it]},$$scope:{ctx:o}}}),t=new Ce({props:{$$slots:{default:[ut]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),s=D(),g(t.$$.fragment)},l(n){b(e.$$.fragment,n),s=C(n),b(t.$$.fragment,n)},m(n,l){h(e,n,l),k(n,s,l),h(t,n,l),r=!0},p(n,l){const a={};l&1024&&(a.$$scope={dirty:l,ctx:n}),e.$set(a);const f={};l&1024&&(f.$$scope={dirty:l,ctx:n}),t.$set(f)},i(n){r||(i(e.$$.fragment,n),i(t.$$.fragment,n),r=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),r=!1},d(n){n&&$(s),w(e,n),w(t,n)}}}function he(o){let e,s,t;return s=new J({props:{variant:"secondary",class:"w-full",$$slots:{default:[$t]},$$scope:{ctx:o}}}),{c(){e=S("a"),g(s.$$.fragment),this.h()},l(r){e=j(r,"A",{href:!0,class:!0,download:!0});var n=oe(e);b(s.$$.fragment,n),n.forEach($),this.h()},h(){v(e,"href",o[2]),v(e,"class","w-full h-fit"),v(e,"download","output.pdf")},m(r,n){k(r,e,n),h(s,e,null),t=!0},p(r,n){const l={};n&1024&&(l.$$scope={dirty:n,ctx:r}),s.$set(l),(!t||n&4)&&v(e,"href",r[2])},i(r){t||(i(s.$$.fragment,r),t=!0)},o(r){u(s.$$.fragment,r),t=!1},d(r){r&&$(e),w(s)}}}function $t(o){let e,s,t;return e=new We({props:{class:"mr-2 h-4 w-4"}}),{c(){g(e.$$.fragment),s=A("Download")},l(r){b(e.$$.fragment,r),s=H(r,"Download")},m(r,n){h(e,r,n),k(r,s,n),t=!0},p:G,i(r){t||(i(e.$$.fragment,r),t=!0)},o(r){u(e.$$.fragment,r),t=!1},d(r){r&&$(s),w(e,r)}}}function mt(o){let e,s,t,r,n="Decrypt PDF",l,a,f,m,L="Decrypt PDF and remove all restrictions",V,R,N,F,x,E,y,Q,B,X,T,Z,ee,M,te,I,U,K,Y,se,ce;a=new qe({}),R=new be({props:{for:"input-file",$$slots:{default:[Xe]},$$scope:{ctx:o}}}),y=new be({props:{for:"password",$$slots:{default:[Ze]},$$scope:{ctx:o}}}),B=new Pe({props:{$$slots:{default:[st]},$$scope:{ctx:o}}});function ye(c){o[7](c)}let ie={id:"password",type:"text",placeholder:"User password"};o[1]!==void 0&&(ie.value=o[1]),T=new ze({props:ie}),Re.push(()=>Be(T,"value",ye)),M=new Ve({props:{class:"mt-1 mb-0.5",title:"Progress",value:o[3]}});const ue=[rt,nt],O=[];function pe(c,d){return c[4]?1:0}I=pe(o),U=O[I]=ue[I](o);let _=o[2]&&he(o);return{c(){e=S("link"),s=D(),t=S("div"),r=S("h1"),r.textContent=n,l=D(),g(a.$$.fragment),f=D(),m=S("h2"),m.textContent=L,V=D(),g(R.$$.fragment),N=D(),F=S("input"),x=D(),E=S("div"),g(y.$$.fragment),Q=D(),g(B.$$.fragment),X=D(),g(T.$$.fragment),ee=D(),g(M.$$.fragment),te=D(),U.c(),K=D(),_&&_.c(),this.h()},l(c){const d=Fe("svelte-1ifn3do",re.head);e=j(d,"LINK",{rel:!0,href:!0,as:!0}),d.forEach($),s=C(c),t=j(c,"DIV",{class:!0});var p=oe(t);r=j(p,"H1",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-6vk7kn"&&(r.textContent=n),l=C(p),b(a.$$.fragment,p),f=C(p),m=j(p,"H2",{class:!0,"data-svelte-h":!0}),W(m)!=="svelte-m350mi"&&(m.textContent=L),V=C(p),b(R.$$.fragment,p),N=C(p),F=j(p,"INPUT",{id:!0,class:!0,type:!0,accept:!0}),x=C(p),E=j(p,"DIV",{class:!0});var q=oe(E);b(y.$$.fragment,q),Q=C(q),b(B.$$.fragment,q),q.forEach($),X=C(p),b(T.$$.fragment,p),ee=C(p),b(M.$$.fragment,p),te=C(p),U.l(p),K=C(p),_&&_.l(p),p.forEach($),this.h()},h(){re.title="Decrypt PDF",v(e,"rel","prefetch"),v(e,"href","/pdfcpu.wasm"),v(e,"as","fetch"),v(r,"class","text-xl font-semibold"),v(m,"class","mb-1"),v(F,"id","input-file"),v(F,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),v(F,"type","file"),v(F,"accept","application/pdf"),v(E,"class","flex mt-1"),v(t,"class","grid w-[22rem] h-fit items-center gap-1.5 mt-4 mx-auto px-4")},m(c,d){P(re.head,e),k(c,s,d),k(c,t,d),P(t,r),P(t,l),h(a,t,null),P(t,f),P(t,m),P(t,V),h(R,t,null),P(t,N),P(t,F),P(t,x),P(t,E),h(y,E,null),P(E,Q),h(B,E,null),P(t,X),h(T,t,null),P(t,ee),h(M,t,null),P(t,te),O[I].m(t,null),P(t,K),_&&_.m(t,null),Y=!0,se||(ce=xe(F,"change",o[6]),se=!0)},p(c,[d]){const p={};d&1024&&(p.$$scope={dirty:d,ctx:c}),R.$set(p);const q={};d&1024&&(q.$$scope={dirty:d,ctx:c}),y.$set(q);const $e={};d&1024&&($e.$$scope={dirty:d,ctx:c}),B.$set($e);const me={};!Z&&d&2&&(Z=!0,me.value=c[1],Ee(()=>Z=!1)),T.$set(me);const _e={};d&8&&(_e.value=c[3]),M.$set(_e);let ne=I;I=pe(c),I===ne?O[I].p(c,d):(fe(),u(O[ne],1,1,()=>{O[ne]=null}),ae(),U=O[I],U?U.p(c,d):(U=O[I]=ue[I](c),U.c()),i(U,1),U.m(t,K)),c[2]?_?(_.p(c,d),d&4&&i(_,1)):(_=he(c),_.c(),i(_,1),_.m(t,null)):_&&(fe(),u(_,1,1,()=>{_=null}),ae())},i(c){Y||(i(a.$$.fragment,c),i(R.$$.fragment,c),i(y.$$.fragment,c),i(B.$$.fragment,c),i(T.$$.fragment,c),i(M.$$.fragment,c),i(U),i(_),Y=!0)},o(c){u(a.$$.fragment,c),u(R.$$.fragment,c),u(y.$$.fragment,c),u(B.$$.fragment,c),u(T.$$.fragment,c),u(M.$$.fragment,c),u(U),u(_),Y=!1},d(c){c&&($(s),$(t)),$(e),w(a),w(R),w(y),w(B),w(T),w(M),O[I].d(),_&&_.d(),se=!1,ce()}}}function _t(o,e,s){let t="",r=0;function n(){URL.revokeObjectURL(t),s(2,t=""),s(3,r=0)}let l=!1,a,f,m;Se(()=>{m=new Worker(new URL(""+new URL("../workers/pdfcpu.worker-DaHBnv0e.js",import.meta.url).href,import.meta.url),{type:"module"}),m.onmessage=N=>{const{type:F,data:x}=N.data;switch(F){case"progress":s(3,r=x);break;case"warning":z.warning(x.message,{description:x.description});break;case"error":z.error(x.message,{description:x.description}),s(4,l=!1),n();break;case"success":const E=x;s(2,t=URL.createObjectURL(E)),z.success("Processing completed!",{description:"Your file should begin downloading automatically. If not, click the download button"});const y=document.createElement("a");y.href=t,y.download="output.pdf",y.click(),s(4,l=!1);break}}}),je(()=>{m==null||m.terminate()});async function L(){if(n(),s(4,l=!0),!(a!=null&&a.length)){z.error("No file selected",{description:"Please select a file"}),s(4,l=!1);return}const N=a[0];if(!N){z.error("No file selected",{description:"Please select a file"}),s(4,l=!1);return}if(N.type!=="application/pdf"){z.error("Invalid file type",{description:"Please select a PDF file"}),s(4,l=!1);return}if(!m){z.error("Worker not initialized",{description:"Please try again in a few seconds"}),s(4,l=!1);return}m.postMessage({type:"decrypt",file:N,password:f})}function V(){a=this.files,s(0,a)}function R(N){f=N,s(1,f)}return o.$$.update=()=>{o.$$.dirty&3&&n()},[a,f,t,r,l,L,V,R]}class wt extends ke{constructor(e){super(),ve(this,e,_t,mt,we,{})}}export{wt as component};
