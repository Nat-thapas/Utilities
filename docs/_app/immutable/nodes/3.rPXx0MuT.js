import{s as ge,o as te,p as $e,q as De,u as Ce,v as ye,w as Ie,x as Ue,e as j,a as I,c as B,b as ne,y as V,g as U,f as h,z as L,i as v,h as P,A as Le,B as Ne,C as Re,D as Fe,t as M,d as O,n as J,E as me,j as Ee}from"../chunks/scheduler.DhvMbWXg.js";import{S as be,i as he,c as m,a as _,m as d,t as u,b as p,d as g,e as Se,f as se,g as re}from"../chunks/index.hQ-YnVqC.js";import{I as Te,g as je,a as Be,B as Q,t as W}from"../chunks/Toaster.svelte_svelte_type_style_lang.CMjIba9M.js";import{S as Me,L as _e,R as we,I as Oe,P as xe,T as ke,a as ve,D as We,b as qe}from"../chunks/loader-circle.Dn5vS2YJ.js";const ze=""+new URL("../assets/pdfcpu.worker._JmQB3cF.ts",import.meta.url).href;function Ae(l){let e;const n=l[2].default,t=De(n,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&Ce(t,n,r,r[3],e?Ie(n,r[3],s,null):ye(r[3]),null)},i(r){e||(u(t,r),e=!0)},o(r){p(t,r),e=!1},d(r){t&&t.d(r)}}}function He(l){let e,n;const t=[{name:"info"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Ae]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)r=te(r,t[s]);return e=new Te({props:r}),{c(){m(e.$$.fragment)},l(s){_(e.$$.fragment,s)},m(s,o){d(e,s,o),n=!0},p(s,[o]){const a=o&3?je(t,[t[0],o&2&&Be(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){n||(u(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){g(e,s)}}}function Ve(l,e,n){let{$$slots:t={},$$scope:r}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];return l.$$set=o=>{n(1,e=te(te({},e),$e(o))),"$$scope"in o&&n(3,r=o.$$scope)},e=$e(e),[s,e,t,r]}class Je extends be{constructor(e){super(),he(this,e,Ve,He,ge,{})}}function Qe(l){let e;return{c(){e=M("Input file")},l(n){e=O(n,"Input file")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function Ye(l){let e;return{c(){e=M("User password (Optional)")},l(n){e=O(n,"User password (Optional)")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function Ge(l){let e,n;return e=new Je({props:{class:"w-4 h-4"}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){d(e,t,r),n=!0},p:J,i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Ke(l){let e,n=`User password is the password that can be use to view the file with some restrictions such
					as printing or copying. The password may be empty.`;return{c(){e=j("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),V(e)!=="svelte-16ubxc"&&(e.textContent=n)},m(t,r){v(t,e,r)},p:J,d(t){t&&h(e)}}}function Xe(l){let e,n,t,r;return e=new ke({props:{class:"cursor-default ml-2",$$slots:{default:[Ge]},$$scope:{ctx:l}}}),t=new ve({props:{$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment),n=I(),m(t.$$.fragment)},l(s){_(e.$$.fragment,s),n=U(s),_(t.$$.fragment,s)},m(s,o){d(e,s,o),v(s,n,o),d(t,s,o),r=!0},p(s,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&1024&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(u(e.$$.fragment,s),u(t.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),r=!1},d(s){s&&h(n),g(e,s),g(t,s)}}}function Ze(l){let e,n;return e=new Q({props:{disabled:!0,$$slots:{default:[tt]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){d(e,t,r),n=!0},p(t,r){const s={};r&1032&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function et(l){let e,n,t,r;const s=[st,nt],o=[];function a(f,b){var w;return(w=f[0])!=null&&w.length?1:0}return e=a(l),n=o[e]=s[e](l),{c(){n.c(),t=me()},l(f){n.l(f),t=me()},m(f,b){o[e].m(f,b),v(f,t,b),r=!0},p(f,b){let w=e;e=a(f),e===w?o[e].p(f,b):(re(),p(o[w],1,1,()=>{o[w]=null}),se(),n=o[e],n?n.p(f,b):(n=o[e]=s[e](f),n.c()),u(n,1),n.m(t.parentNode,t))},i(f){r||(u(n),r=!0)},o(f){p(n),r=!1},d(f){f&&h(t),o[e].d(f)}}}function tt(l){let e,n,t=l[3].toFixed(0)+"",r,s,o;return e=new qe({props:{class:"mr-2 h-4 w-4 animate-spin"}}),{c(){m(e.$$.fragment),n=M(`
			Processing: `),r=M(t),s=M("%")},l(a){_(e.$$.fragment,a),n=O(a,`
			Processing: `),r=O(a,t),s=O(a,"%")},m(a,f){d(e,a,f),v(a,n,f),v(a,r,f),v(a,s,f),o=!0},p(a,f){(!o||f&8)&&t!==(t=a[3].toFixed(0)+"")&&Ee(r,t)},i(a){o||(u(e.$$.fragment,a),o=!0)},o(a){p(e.$$.fragment,a),o=!1},d(a){a&&(h(n),h(r),h(s)),g(e,a)}}}function nt(l){let e,n;return e=new Q({props:{$$slots:{default:[rt]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){d(e,t,r),n=!0},p(t,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function st(l){let e,n;return e=new we({props:{$$slots:{default:[ft]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){d(e,t,r),n=!0},p(t,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function rt(l){let e;return{c(){e=M("Decrypt")},l(n){e=O(n,"Decrypt")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function ot(l){let e;return{c(){e=M("Decrypt")},l(n){e=O(n,"Decrypt")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function lt(l){let e,n;return e=new Q({props:{class:"w-full",disabled:!0,$$slots:{default:[ot]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){m(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){d(e,t,r),n=!0},p(t,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function at(l){let e,n="Select a file to continue";return{c(){e=j("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),V(e)!=="svelte-p3ybh1"&&(e.textContent=n)},m(t,r){v(t,e,r)},p:J,d(t){t&&h(e)}}}function ft(l){let e,n,t,r;return e=new ke({props:{class:"cursor-default",$$slots:{default:[lt]},$$scope:{ctx:l}}}),t=new ve({props:{$$slots:{default:[at]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment),n=I(),m(t.$$.fragment)},l(s){_(e.$$.fragment,s),n=U(s),_(t.$$.fragment,s)},m(s,o){d(e,s,o),v(s,n,o),d(t,s,o),r=!0},p(s,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&1024&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(u(e.$$.fragment,s),u(t.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),r=!1},d(s){s&&h(n),g(e,s),g(t,s)}}}function de(l){let e,n,t;return n=new Q({props:{variant:"secondary",class:"w-full",$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){e=j("a"),m(n.$$.fragment),this.h()},l(r){e=B(r,"A",{href:!0,class:!0,download:!0});var s=ne(e);_(n.$$.fragment,s),s.forEach(h),this.h()},h(){L(e,"href",l[2]),L(e,"class","w-full h-fit"),L(e,"download","output.pdf")},m(r,s){v(r,e,s),d(n,e,null),t=!0},p(r,s){const o={};s&1024&&(o.$$scope={dirty:s,ctx:r}),n.$set(o),(!t||s&4)&&L(e,"href",r[2])},i(r){t||(u(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&h(e),g(n)}}}function ct(l){let e,n,t;return e=new We({props:{class:"mr-2 h-4 w-4"}}),{c(){m(e.$$.fragment),n=M("Download")},l(r){_(e.$$.fragment,r),n=O(r,"Download")},m(r,s){d(e,r,s),v(r,n,s),t=!0},p:J,i(r){t||(u(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){r&&h(n),g(e,r)}}}function it(l){let e,n,t="Decrypt PDF",r,s,o,a,f="Decrypt PDF and remove all restrictions",b,w,q,R,N,F,k,z,D,Y,E,G,K,S,X,C,y,A,H,Z,oe;s=new Me({}),w=new _e({props:{for:"input-file",$$slots:{default:[Qe]},$$scope:{ctx:l}}}),k=new _e({props:{for:"password",$$slots:{default:[Ye]},$$scope:{ctx:l}}}),D=new we({props:{$$slots:{default:[Xe]},$$scope:{ctx:l}}});function Pe(c){l[7](c)}let le={id:"password",type:"text",placeholder:"User password"};l[1]!==void 0&&(le.value=l[1]),E=new Oe({props:le}),Ue.push(()=>Se(E,"value",Pe)),S=new xe({props:{class:"mt-1 mb-0.5",value:l[3]}});const ae=[et,Ze],T=[];function fe(c,i){return c[4]?1:0}C=fe(l),y=T[C]=ae[C](l);let $=l[2]&&de(l);return{c(){e=j("div"),n=j("h1"),n.textContent=t,r=I(),m(s.$$.fragment),o=I(),a=j("h2"),a.textContent=f,b=I(),m(w.$$.fragment),q=I(),R=j("input"),N=I(),F=j("div"),m(k.$$.fragment),z=I(),m(D.$$.fragment),Y=I(),m(E.$$.fragment),K=I(),m(S.$$.fragment),X=I(),y.c(),A=I(),$&&$.c(),this.h()},l(c){e=B(c,"DIV",{class:!0});var i=ne(e);n=B(i,"H1",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-6vk7kn"&&(n.textContent=t),r=U(i),_(s.$$.fragment,i),o=U(i),a=B(i,"H2",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-m350mi"&&(a.textContent=f),b=U(i),_(w.$$.fragment,i),q=U(i),R=B(i,"INPUT",{id:!0,class:!0,type:!0,accept:!0}),N=U(i),F=B(i,"DIV",{class:!0});var x=ne(F);_(k.$$.fragment,x),z=U(x),_(D.$$.fragment,x),x.forEach(h),Y=U(i),_(E.$$.fragment,i),K=U(i),_(S.$$.fragment,i),X=U(i),y.l(i),A=U(i),$&&$.l(i),i.forEach(h),this.h()},h(){L(n,"class","text-xl font-semibold"),L(a,"class","mb-1"),L(R,"id","input-file"),L(R,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),L(R,"type","file"),L(R,"accept","application/pdf"),L(F,"class","flex mt-1"),L(e,"class","grid w-[22rem] h-fit items-center gap-1.5 mt-4 mx-auto px-4")},m(c,i){v(c,e,i),P(e,n),P(e,r),d(s,e,null),P(e,o),P(e,a),P(e,b),d(w,e,null),P(e,q),P(e,R),P(e,N),P(e,F),d(k,F,null),P(F,z),d(D,F,null),P(e,Y),d(E,e,null),P(e,K),d(S,e,null),P(e,X),T[C].m(e,null),P(e,A),$&&$.m(e,null),H=!0,Z||(oe=Le(R,"change",l[6]),Z=!0)},p(c,[i]){const x={};i&1024&&(x.$$scope={dirty:i,ctx:c}),w.$set(x);const ce={};i&1024&&(ce.$$scope={dirty:i,ctx:c}),k.$set(ce);const ie={};i&1024&&(ie.$$scope={dirty:i,ctx:c}),D.$set(ie);const ue={};!G&&i&2&&(G=!0,ue.value=c[1],Ne(()=>G=!1)),E.$set(ue);const pe={};i&8&&(pe.value=c[3]),S.$set(pe);let ee=C;C=fe(c),C===ee?T[C].p(c,i):(re(),p(T[ee],1,1,()=>{T[ee]=null}),se(),y=T[C],y?y.p(c,i):(y=T[C]=ae[C](c),y.c()),u(y,1),y.m(e,A)),c[2]?$?($.p(c,i),i&4&&u($,1)):($=de(c),$.c(),u($,1),$.m(e,null)):$&&(re(),p($,1,1,()=>{$=null}),se())},i(c){H||(u(s.$$.fragment,c),u(w.$$.fragment,c),u(k.$$.fragment,c),u(D.$$.fragment,c),u(E.$$.fragment,c),u(S.$$.fragment,c),u(y),u($),H=!0)},o(c){p(s.$$.fragment,c),p(w.$$.fragment,c),p(k.$$.fragment,c),p(D.$$.fragment,c),p(E.$$.fragment,c),p(S.$$.fragment,c),p(y),p($),H=!1},d(c){c&&h(e),g(s),g(w),g(k),g(D),g(E),g(S),T[C].d(),$&&$.d(),Z=!1,oe()}}}function ut(l,e,n){let t="",r=0;function s(){URL.revokeObjectURL(t),n(2,t=""),n(3,r=0)}let o=!1,a,f,b;Re(()=>{b=new Worker(ze,{type:"module"}),b.onmessage=N=>{const{type:F,data:k}=N.data;switch(F){case"progress":n(3,r=k);break;case"warning":W.warning(k.message,{description:k.description});break;case"error":W.error(k.message,{description:k.description}),n(4,o=!1),s();break;case"success":const z=k;n(2,t=URL.createObjectURL(z)),W.success("Processing completed!",{description:"Your file should begin downloading automatically. If not, click the download button"});const D=document.createElement("a");D.href=t,D.download="output.pdf",D.click(),n(4,o=!1);break}}}),Fe(()=>{b==null||b.terminate()});async function w(){if(s(),n(4,o=!0),!(a!=null&&a.length)){W.error("No file selected",{description:"Please select a file"}),n(4,o=!1);return}const N=a[0];if(!N){W.error("No file selected",{description:"Please select a file"}),n(4,o=!1);return}if(N.type!=="application/pdf"){W.error("Invalid file type",{description:"Please select a PDF file"}),n(4,o=!1);return}if(!b){W.error("Worker not initialized",{description:"Please try again in a few seconds"}),n(4,o=!1);return}b.postMessage({type:"decrypt",file:N,password:f})}function q(){a=this.files,n(0,a)}function R(N){f=N,n(1,f)}return l.$$.update=()=>{l.$$.dirty&3&&s()},[a,f,t,r,o,w,q,R]}class dt extends be{constructor(e){super(),he(this,e,ut,it,ge,{})}}export{dt as component};
